# Query: http://localhost:8080
# ContextLines: 1

76 results - 22 files

vite.config.js:
   9        '/v1': {
  10:         target: 'https://ps-ims-backend.vercel.app',
  11          changeOrigin: true,

dist\assets\index-BzGmMUiP.js:
  631   * Copyright 2024 Fonticons, Inc.
  632: ⟪ 1293 characters skipped ⟫""),[u,f]=M.useState(null),[d,p]=M.useState(""),[g,m]=M.useState(!1),[x,y]=M.useState(null),[v,w]=M.useState("");M.useEffect(()=>{(async()=>{try{const le=localStorage.getItem("token"),ne=await fetch("https://ps-ims-backend.vercel.app/api/users/getAlluser",{headers:{Authorization:`Bearer ${le}`}});if(!ne.ok)throw new Error("Failed to fetch users");const Ee=await ne.json();t(Ee)}catch(le){c("Error fetching users"),console.error(le)}finally{a(!1)}})()},[]),M.useEffect(()=>{(async()=>{try{const le=localStorage.getItem("token"),ne=await fetch("https://ps-ims-backend.vercel.app/api/stock",{headers:{Authorization:`Bearer ${le}`}});if(!ne.ok)throw new Error("Failed to fetch stock");const Ee=await ne.json();n(Ee)}catch(le){c("Error fetching stocks"),console.error(le)}finally{o(!1)}})()},[]);const _=u?r.filter(U=>{var le;return typeof U.user=="string"?U.user===u._id:((le=U.user)==null?void 0:le._id)===u._id}):[],E=d?e.filter(U=>{var le,ne;return!!((le=U.name)!=null&&le.toLowerCase().includes(d.toLowerCase())||(ne=U.email)!=null&&ne.toLowerCase().includes(d.toLowerCase()))}):e,b=U=>{f(U)},S=()=>{f(null)},A=U=>{y(U),w(U.qty),m(!0)},k=()=>{m(!1),y(null),w("")},O=async()=>{var U,le,ne;if(x)try{const Ee=localStorage.getItem("token"),Ce=await fetch(`https://ps-ims-backend.vercel.app/api/stock/${x._id}`,{method:"PUT",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({product:((U=x.product)==null?void 0:U._id)||x.product,store:((le=x.store)==null?void 0:le._id)||x.store,user:typeof x.user=="string"?x.user:(ne=x.user)==null?void 0:ne._id,qty:v})});if(!Ce.ok)throw new Error("Failed to update stock");const ue=await Ce.json();n(re=>re.map(me=>me._id===ue._id?ue:me)),k()}catch(Ee){console.error("Error updating stock:",Ee),alert("Failed to update stock")}};return h.jsxs("div",{className:"ml-[210px] xl:ml-[328px] mx-auto py-8 px-4",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manage Stock"}),l&&h.jsx("div",{className:"bg-red-100 text-red-600 p-3 rounded mb-4",children:l}),h.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-gray-300 rounded p-4 h-[90vh] flex flex-col",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4"
  633: ⟪ 7438 characters skipped ⟫seRef(null);M.useEffect(()=>{v()},[]);const v=async()=>{const O=localStorage.getItem("token");if(!O){console.log("No token found in localStorage. User not logged in.");return}try{const I=await fetch("https://ps-ims-backend.vercel.app/api/users/account",{method:"GET",headers:{Authorization:`Bearer ${O}`}});if(!I.ok)throw new Error("Failed to fetch user profile");const W=await I.json();console.log("User profile:",W),u(U=>({...U,name:W.name||"",email:W.email||"",phoneNumber:W.phone||"",profilePicture:W.profileUrl||""}))}catch(I){console.error("Error fetching user profile:",I)}},w=async()=>{try{const O=localStorage.getItem("token");if(!O){alert("No token, please login first.");return}const I=new FormData;I.append("name",c.name||""),I.append("email",c.email||""),I.append("phone",c.phoneNumber||""),c.profilePictureFile&&I.append("profilePic",c.profilePictureFile);const W=await fetch("https://ps-ims-backend.vercel.app/api/users/updateUser",{method:"PUT",headers:{Authorization:`Bearer ${O}`},body:I});if(!W.ok)throw new Error("Failed to update profile");const U=await W.json();u(le=>({...le,name:U.name||"",email:U.email||"",phoneNumber:U.phone||"",profilePicture:U.profileUrl||""})),l(!1),r(!1),alert("Profile updated successfully!")}catch(O){console.error("Error updating profile:",O),alert("Failed to update profile")}},_=O=>{const I=O.target.files[0];I&&u(W=>({...W,profilePictureFile:I,profilePicture:URL.createObjectURL(I)}))},E=O=>{u(I=>({...I,[O.target.name]:O.target.value}))},b=async()=>{try{const I=await(await fetch("https://ps-ims-backend.vercel.app/api/orders?status=Out for Delivery")).json();s(I)}catch(O){console.error("Error fetching out for delivery orders:",O)}};M.useEffect(()=>{const O=I=>{y.current&&!y.current.contains(I.target)&&x(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),M.useEffect(()=>{const O=async()=>{if(!f.trim()){g([]),x(!1);return}try{const W=await fetch(`https://ps-ims-backend.vercel.app/api/search?query=${encodeURIComponent(f)}`);if(!W.ok)throw new Error("Search failed");const U=await W.json();g(U),x(!0)}catch(W){console.error(W)}},I=setTimeout(()=>O(),300);return()=>clearTimeout(I)},[f]);const S=O=>{x(!1),d(""),e(O.route)},A=()=>{i(!n),n||b()},k=[{to:"/app",label:"Dashboard",icon:h.jsx(Iw,{})},{to:"/app/inventory-dashboard",label:"Inventory",icon:h.jsx(V3,{})},{to:"/app/reports",label:"Reports",icon:h.jsx(RO,{})},{to:"/app/suppliers",label:"Suppliers",icon:h.jsx(UO,{})},{to:"/app/orders",label:"Orders",icon:h.jsx(BO,{})},{to:"/app/stores",label:"Manage Store",icon:h.jsx(DO,{})},{to:"/app/billing",label:"Billing",icon:h.jsx(CO,{})},{to:"/app/manage-stock",label:"ManageStock",icon:h.jsx(Iw,{})}];return h.jsxs("div",{className:"flex",children:[h.jsxs("div",{className:"bg-[#0A2240] h-screen w-[204px] xl:w-[320px] p-5 fixed",children:[h.jsxs("div",{children:[h.jsxs(pp,{to:"/app",className:"flex items-center mt-5 mb-5 justify-center",children:[h.jsx(j
  634                    flex items-center p-4 hover:text-white transition duration-300 mt-5 justify-center`,children:[h.jsx("span",{className:"text-[#1570EF] text-2xl mr-2",children:W}),h.jsx("span",{children:I})]},le))})]}),h.jsxs(pp,{to:"/get-started",className:"flex items-center p-4 mt-[10rem] hover:text-white transition duration-300 justify-center text-[#FF0000]",children:[h.jsx($O,{className:"text-[#1570EF] text-2xl mr-2"}),h.jsx("span",{children:"Logout"})]})]}),h.jsxs("div",{className:"flex-1 ml-[204px] xl:ml-[320px] bg-white",children:[h.jsxs("header",{className:"flex justify-between items-center p-4 shadow-md fixed top-0 left-[204px] xl:left-[320px] right-0 bg-white z-10",children:[h.jsxs("div",{className:"relative flex items-center",ref:y,children:[h.jsx("input",{type:"text",placeholder:"Search...",className:"border rounded-3xl p-2 pl-10 w-96",value:f,onChange:O=>d(O.target.value),onFocus:()=>{p.length>0&&x(!0)}}),h.jsx("img",{src:IO,alt:"Search",className:"absolute left-3 w-5 h-5"}),m&&p.length>0&&h.jsx("div",{className:"absolute top-12 left-0 w-96 bg-white border border-gray-300 rounded shadow z-50",children:p.map((O,I)=>h.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>S(O),children:h.jsxs("p",{className:"text-sm",children:[h.jsx("span",{className:"font-bold",children:O.type}),": ",O.name]})},I))}),m&&f&&p.length===0&&h.jsx("div",{className:"absolute top-12 left-0 w-96 bg-white border border-gray-300 rounded shadow z-50 px-4 py-2",children:"No results found"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("img",{src:LO,alt:"Notifications",className:"w-4 h-4 mr-4 cursor-pointer",onClick:A}),h.jsx("img",{src:c.profilePicture||K3,alt:"Profile",className:"w-8 h-8 rounded-full cursor-pointer",onClick:()=>r(!0)})]})]}),n&&h.jsxs("div",{className:"fixed top-16 right-4 bg-white p-4 rounded-lg shadow-lg w-80 z-20",children:[h.jsx("h3",{className:"text-lg font-bold mb-2",children:"Out for Delivery"}),h.jsx("ul",{children:a.length>0?a.map(O=>h.jsx("li",{className:"border-b py-2",children:O.productName},O._id)):h.jsx("li",{className:"py-2",children:"No orders out for delivery"})})]}),h.jsx(fR,{isVisible:t,onClose:()=>r(!1),profileData:c,isEditing:o,handleEditProfile:()=>l(!0),handleSaveProfile:w,handleProfilePictureChange:_,handleChange:E})]})]})},hR=()=>h.jsxs(h.Fragment,{children:[h.jsx(dR,{}),h.jsx(G8,{})]}),qv="/assets/worker-D_Gq-dmn.png";function pR(){return h.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-white",children:[h.jsxs("div",{className:"relative hidden lg:block w-full lg:w-1/2 h-screen",children:[h.jsx("img",{src:qv,alt:"Warehouse worker organizing inventory",className:"w-full h-screen object-cover rounded-lg"}),h.jsx("div",{className:"absolute bottom-4 left-4 text-white text-base sm:text-lg md:text-xl font-semibold drop-shadow-lg max-w-[80%] text-center",children:"Inventory is a great platform for online or offline stores like ours"})]}),h.jsx("div",{className:"flex w-full mt-8 lg:mt-0 lg:w-1/2 items-center justify-end lg:justify-center p-2 lg:p-6",children:h.jsxs("div",{className:"w-3/4 lg:2/3 xl:w-1/2",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mb-4",children:"Get started"}),h.jsx("p",{className:"text-gray-500 mb-4 text-xl whitespace-nowrap",children:"Get into your account to do the action"}),h.jsx(Hs,{to:"/register",className:"block w-[25rem] mb-4 bg-sky-950 hover:bg-blue-700 text-white font-semibold py-3 rounded transition-colors text-center",children:"Sign up"}),h.jsx(Hs,{to:"/login",className:"block w-[25rem] border border-sky-950 text-sky-950 hover:bg-blue-50 font-semibold py-3 rounded transition-colors text-center",children:"Log in"})]})})]})}function FA(e,t){return function(){return e.apply(t,arguments)}}const{toString:mR}=Object.prototype,{getPrototypeOf:Jv}=Object,h0=(e=>t=>{const r=mR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ui=e=>(e=e.toLowerCase(),t=>h0(t)===e),p0=e=>t=>typeof t===e,{isArray:Sl}=Array,ou=p0("undefined");function gR(e){return e!==null&&!ou(e)&&e.constructor!==null&&!ou(e.constructor)&&An(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const RA=ui("ArrayBuffer");function xR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&RA(e.buffer),t}const vR=p0("string"),An=p0("function"),MA=p0("number"),m0=e=>e!==null&&typeof e=="object",yR=e=>e===!0||e===!1,dd=e=>{if(h0(e)!=="object")return!1;const t=Jv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wR=ui("Date"),_R=ui("File"),bR=ui("Blob"),SR=ui("FileList"),ER=e=>m0(e)&&An(e.pipe),AR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||An(e.append)&&((t=h0(e))==="formdata"||t==="object"&&An(e.toString)&&e.toString()==="[object FormData]"))},TR=ui("URLSearchParams"),[CR,kR,NR,PR]=["ReadableStream","Request","Response","Headers"].map(ui),OR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ou(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Sl(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(n=0;n<s;n++)o=a[n],t.call(null,e[o],o,e)}}function LA(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IA=e=>!ou(e)&&e!==Cs;function _g(){const{caseless:e}=IA(this)&&this||{},t={},r=(n,i)=>{const a=e&&LA(t,i)||i;dd(t[a])&&dd(n)?t[a]=_g(t[a],n):dd(n)?t[a]=_g({},n):Sl(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ou(arguments[n],r);return t}const DR=(e,t,r,{allOwnKeys:n}={})=>(Ou(t,(i,a)=>{r&&An(i)?e[a]=FA(i,r):e[a]=i},{allOwnKeys:n}),e),FR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),RR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},MR=(e,t,r,n)=>{let i,a,s;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&Jv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},LR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},IR=e=>{if(!e)return null;if(Sl(e))return e;let t=e.length;if(!MA(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},BR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jv(Uint8Array)),jR=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},$R=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},UR=ui("HTMLFormElement"),HR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),g_=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),zR=ui("RegExp"),BA=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ou(r,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(n[a]=s||i)}),Object.defineProperties(e,n)},WR=e=>{BA(e,(t,r)=>{if(An(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(An(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},VR=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Sl(e)?n(e):n(String(e).split(t)),r},GR=()=>{},KR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,_p="abcdefghijklmnopqrstuvwxyz",x_="0123456789",jA={DIGIT:x_,ALPHA:_p,ALPHA_DIGIT:_p+_p.toUpperCase()+x_},YR=(e=16,t=jA.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function ZR(e){return!!(e&&An(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const XR=e=>{const t=new Array(10),r=(n,i)=>{if(m0(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=Sl(n)?[]:{};return Ou(n,(s,o)=>{const l=r(s,i+1);!ou(l)&&(a[o]=l)}),t[i]=void 0,a}}return n};return r(e,0)},qR=ui("AsyncFunction"),JR=e=>e&&(m0(e)||An(e))&&An(e.then)&&An(e.catch),$A=((e,t)=>e?setImmediate:t?((r,n)=>(Cs.addEventListener("message",({source:i,data:a})=>{i===Cs&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Cs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",An(Cs.postMessage)),QR=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||$A,ae={isArray:Sl,isArrayBuffer:RA,isBuffer:gR,isFormData:AR,isArrayBufferView:xR,isString:vR,isNumber:MA,isBoolean:yR,isObject:m0,isPlainObject:dd,isReadableStream:CR,isRequest:kR,isResponse:NR,isHeaders:PR,isUndefined:ou,isDate:wR,isFile:_R,isBlob:bR,isRegExp:zR,isFunction:An,isStream:ER,isURLSearchParams:TR,isTypedArray:BR,isFileList:SR,forEach:Ou,merge:_g,extend:DR,trim:OR,stripBOM:FR,inherits:RR,toFlatObject:MR,kindOf:h0,kindOfTest:ui,endsWith:LR,toArray:IR,forEachEntry:jR,matchAll:$R,isHTMLForm:UR,hasOwnProperty:g_,hasOwnProp:g_,reduceDescriptors:BA,freezeMethods:WR,toObjectSet:VR,toCamelCase:HR,noop:GR,toFiniteNumber:KR,findKey:LA,global:Cs,isContextDefined:IA,ALPHABET:jA,generateString:YR,isSpecCompliantForm:ZR,toJSONObject:XR,isAsyncFn:qR,isThenable:JR,setImmediate:$A,asap:QR};function Ve(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const UA=Ve.prototype,HA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HA[e]={value:e}});Object.defineProperties(Ve,HA);Object.defineProperty(UA,"isAxiosError",{value:!0});Ve.from=(e,t,r,n,i,a)=>{const s=Object.create(UA);return ae.toFlatObject(e,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ve.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const eM=null;function bg(e){return ae.isPlainObject(e)||ae.isArray(e)}function zA(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function v_(e,t,r){return e?e.concat(t).map(function(i,a){return i=zA(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function tM(e){return ae.isArray(e)&&!e.some(bg)}const rM=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function g0(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ae.isUndefined(x[m])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ae.isDate(g))return g.toISOString();if(!l&&ae.isBlob(g))throw new Ve("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(g)||ae.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,x){let y=g;if(g&&!x&&typeof g=="object"){if(ae.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(ae.isArray(g)&&tM(g)||(ae.isFileList(g)||ae.endsWith(m,"[]"))&&(y=ae.toArray(g)))return m=zA(m),y.forEach(function(w,_){!(ae.isUndefined(w)||w===null)&&t.append(s===!0?v_([m],_,a):s===null?m:m+"[]",c(w))}),!1}return bg(g)?!0:(t.append(v_(x,m,a),c(g)),!1)}const f=[],d=Object.assign(rM,{defaultVisitor:u,convertValue:c,isVisitable:bg});function p(g,m){if(!ae.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),ae.forEach(g,function(y,v){(!(ae.isUndefined(y)||y===null)&&i.call(t,y,ae.isString(v)?v.trim():v,m,d))===!0&&p(y,m?m.concat(v):[v])}),f.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return p(e),t}function y_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Qv(e,t){this._pairs=[],e&&g0(e,this,t)}const WA=Qv.prototype;WA.append=function(t,r){this._pairs.push([t,r])};WA.toString=function(t){const r=t?function(n){return t.call(this,n,y_)}:y_;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function nM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VA(e,t,r){if(!t)return e;const n=r&&r.encode||nM;ae.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=ae.isURLSearchParams(t)?t.toString():new Qv(t,r).toString(n),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class w_{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(n){n!==null&&t(n)})}}const GA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iM=typeof URLSearchParams<"u"?URLSearchParams:Qv,aM=typeof FormData<"u"?FormData:null,sM=typeof Blob<"u"?Blob:null,oM={isBrowser:!0,classes:{URLSearchParams:iM,FormData:aM,Blob:sM},protocols:["http","https","file","blob","url","data"]},e2=typeof window<"u"&&typeof document<"u",Sg=typeof navigator=="object"&&navigator||void 0,lM=e2&&(!Sg||["ReactNative","NativeScript","NS"].indexOf(Sg.product)<0),cM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uM=e2&&window.location.href||"http://localhost",fM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e2,hasStandardBrowserEnv:lM,hasStandardBrowserWebWorkerEnv:cM,navigator:Sg,origin:uM},Symbol.toStringTag,{value:"Module"})),Nr={...fM,...oM};function dM(e,t){return g0(e,new Nr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Nr.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function hM(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pM(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function KA(e){function t(r,n,i,a){let s=r[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=r.length;return s=!s&&ae.isArray(i)?i.length:s,l?(ae.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!ae.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],a)&&ae.isArray(i[s])&&(i[s]=pM(i[s])),!o)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(n,i)=>{t(hM(n),i,r,0)}),r}return null}function mM(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Du={transitional:GA,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=ae.isObject(t);if(a&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return i?JSON.stringify(KA(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dM(t,this.formSerializer).toString();if((o=ae.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return g0(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),mM(t)):t}],transformResponse:[function(t){const r=this.transitional||Du.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Ve.from(o,Ve.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Du.headers[e]={}});const gM=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xM=e=>{const t={};let r,n,i;return e&&e.split(`

  702  https://sweetalert2.github.io/#ajax-request`),EI(e),typeof e.title=="string"&&(e.title=e.title.split(`
  703: ⟪ 28212 characters skipped ⟫(n.trim().length<8||n.trim().length>128)&&(c.password="Password should be between 8 - 128 characters"),s(c),Object.keys(c).length===0},l=async c=>{if(c.preventDefault(),o())try{const f=await Zt.post("https://ps-ims-backend.vercel.app/api/users/login",{email:t,password:n},{withCredentials:!0}),{token:d}=f.data;localStorage.setItem("token",f.data.token),e("/app"),Ks.fire({title:"Success!",text:"Login completed successfully.",icon:"success",confirmButtonText:"OK"})}catch{Ks.fire({title:"Error!",text:"Invalid email or password!",icon:"error",confirmButtonText:"OK"})}};return h.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-white",children:[h.jsxs("div",{className:"relative hidden lg:block w-full lg:w-1/2 h-screen",children:[h.jsx("img",{src:qv,alt:"Warehouse worker organizing inventory",className:"w-full h-screen object-cover rounded-lg"}),h.jsx("div",{className:"absolute bottom-4 left-4 text-white text-base sm:text-lg md:text-xl font-semibold drop-shadow-lg max-w-[80%] text-center",children:"Inventory is a great platform for online or offline stores like ours"})]}),h.jsx("div",{className:"flex w-full lg:w-1/2 items-center justify-center p-6 lg:p-12",children:h.jsxs("div",{className:
  704  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(v,w){if(v){if(typeof v=="string")return u(v,w);var _=Object.prototype.toString.call(v).slice(8,-1);if(_==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set")return Array.from(v);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return u(v,w)}}function u(v,w){(w==null||w>v.length)&&(w=v.length);for(var _=0,E=new Array(w);_<w;_++)E[_]=v[_];return E}function f(v,w){var _=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(_!=null){var E,b,S,A,k=[],O=!0,I=!1;try{if(S=(_=_.call(v)).next,w!==0)for(;!(O=(E=S.call(_)).done)&&(k.push(E.value),k.length!==w);O=!0);}catch(W){I=!0,b=W}finally{try{if(!O&&_.return!=null&&(A=_.return(),Object(A)!==A))return}finally{if(I)throw b}}return k}}function d(v){if(Array.isArray(v))return v}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},g=/^\[([^\]]+)\](?::([0-9]+))?$/;function m(v){return Object.prototype.toString.call(v)==="[object RegExp]"}function x(v,w){for(var _=0;_<w.length;_++){var E=w[_];if(v===E||m(E)&&E.test(v))return!0}return!1}function y(v,w){if((0,r.default)(v),!v||/[\s<>]/.test(v)||v.indexOf("mailto:")===0||(w=(0,a.default)(w,p),w.validate_length&&v.length>=2083)||!w.allow_fragments&&v.includes("#")||!w.allow_query_components&&(v.includes("?")||v.includes("&")))return!1;var _,E,b,S,A,k,O,I;if(O=v.split("#"),v=O.shift(),O=v.split("?"),v=O.shift(),O=v.split("://"),O.length>1){if(_=O.shift().toLowerCase(),w.require_valid_protocol&&w.protocols.indexOf(_)===-1)return!1}else{if(w.require_protocol)return!1;if(v.slice(0,2)==="//"){if(!w.allow_protocol_relative_urls)return!1;O[0]=v.slice(2)}}if(v=O.join("://"),v==="")return!1;if(O=v.split("/"),v=O.shift(),v===""&&!w.require_host)return!0;if(O=v.split("@"),O.length>1){if(w.disallow_auth||O[0]===""||(E=O.shift(),E.indexOf(":")>=0&&E.split(":").length>2))return!1;var W=E.split(":"),U=o(W,2),le=U[0],ne=U[1];if(le===""&&ne==="")return!1}S=O.join("@"),k=null,I=null;var Ee=S.match(g);if(Ee?(b="",I=Ee[1],k=Ee[2]||null):(O=S.split(":"),b=O.shift(),O.length&&(k=O.join(":"))),k!==null&&k.length>0){if(A=parseInt(k,10),!/^[0-9]+$/.test(k)||A<=0||A>65535)return!1}else if(w.require_port)return!1;return w.host_whitelist?x(b,w.host_whitelist):b===""&&!w.require_host?!0:!(!(0,i.default)(b)&&!(0,n.default)(b,w)&&(!I||!(0,i.default)(I,6))||(b=b||I,w.host_blacklist&&x(b,w.host_blacklist)))}e.exports=t.default,e.exports.default=t.default})(Wg,Wg.exports);var zI=Wg.exports,Vg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(Se);function n(f){return f&&f.__esModule?f:{default:f}}var i=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,a=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,l=/^([0-9a-fA-F]){16}$/,c=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function u(f,d){return(0,r.default)(f),d!=null&&d.eui&&(d.eui=String(d.eui)),d!=null&&d.no_colons||d!=null&&d.no_separators?d.eui==="48"?a.test(f):d.eui==="64"?l.test(f):a.test(f)||l.test(f):(d==null?void 0:d.eui)==="48"?i.test(f)||s.test(f):(d==null?void 0:d.eui)==="64"?o.test(f)||c.test(f):u(f,{eui:"48"})||u(f,{eui:"64"})}e.exports=t.default,e.exports.default=t.default})(Vg,Vg.exports);var WI=Vg.exports,Gg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=i(Se),n=i(E0);function i(c){return c&&c.__esModule?c:{default:c}}var a=/^\d{1,3}$/,s=32,o=128;function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,r.default)(c);var f=c.split("/");if(f.length!==2||!a.test(f[1])||f[1].length>1&&f[1].startsWith("0"))return!1;var d=(0,n.default)(f[0],u);if(!d)return!1;var p=null;switch(String(u)){case"4":p=s;break;case"6":p=o;break;default:p=(0,n.default)(f[0],"6")?o:s}return f[1]<=p&&f[1]>=0}e.exports=t.default,e.exports.default=t.default})(Gg,Gg.exports);var VI=Gg.exports,Kg={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=n(Gr);function n(m){return m&&m.__esModule?m:{default:m}}function i(m,x){return o(m)||s(m,x)||c(m,x)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.

  708  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(m,x){var y=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(y!=null){var v,w,_,E,b=[],S=!0,A=!1;try{if(_=(y=y.call(m)).next,x!==0)for(;!(S=(v=_.call(y)).done)&&(b.push(v.value),b.length!==x);S=!0);}catch(k){A=!0,w=k}finally{try{if(!S&&y.return!=null&&(E=y.return(),Object(E)!==E))return}finally{if(A)throw w}}return b}}function c(m){if(Array.isArray(m))return m}function u(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=f(m))||x){y&&(m=y);var v=0,w=function(){};return{s:w,n:function(){return v>=m.length?{done:!0}:{done:!1,value:m[v++]}},e:function(A){throw A},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
  709: ⟪ 26397 characters skipped ⟫mPassword="Confirm password is required":a!==n&&(f.confirmPassword="Passwords do not match"),l(f),Object.keys(f).length===0},u=async f=>{var p,g,m;if(f.preventDefault(),c())try{const x=await Zt.post("https://ps-ims-backend.vercel.app/api/users/register",{email:t,password:n,confirmPassword:a},{headers:{"Content-Type":"application/json"}});e("/app"),Ks.fire({title:"Success!",text:"Registration completed successfully.",icon:"success",confirmButtonText:"OK"})}catch(x){console.error("Registration error:",((p=x.response)==null?void 0:p.data)||x.message),Ks.fire({title:"Error!",text:((m=(g=x.response)==null?void 0:g.data)==null?void 0:m.message)||"Something went wrong. Please try again.",icon:"error",confirmButtonText:"OK"})}};return h.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-white",children:[h.jsxs("div",{className:"relative hidden lg:block w-full lg:w-1/2 h-screen",children:[h.jsx("img",{src:qv,alt:"Warehouse worker organizing inventory",className:"w-full h-screen object-cover rounded-lg"}),h.jsx("div",{className:"absolute bottom-4 left-4 text-white text-base sm:text-lg md:text-xl font-semibold drop-shadow-lg max-w-[80%] text-center",children:"Inventory is a great platform for o
  710   * @kurkle/color v0.3.4

  725  `)>-1?e.split(`
  726: ⟪ 41405 characters skipped ⟫),[i,a]=M.useState(!0),[s,o]=M.useState("");if(M.useEffect(()=>{(async()=>{try{const w=localStorage.getItem("token");if(!w)throw new Error("No token found - Please login first.");const _=await fetch("https://ps-ims-backend.vercel.app/api/dashboard",{headers:{Authorization:`Bearer ${w}`}});if(!_.ok)throw new Error("Failed to retrieve dashboard data");const E=await _.json();n(E||{})}catch(w){o(w.message)}finally{a(!1)}})()},[]),M.useEffect(()=>{var b,S;if(!r)return;let v,w;const _=((b=r.salesOverview)==null?void 0:b[0])||{},E=((S=r.purchaseOverview)==null?void 0:S[0])||{};if(e.current){const A=e.current.getContext("2d");v=new ti(A,{type:"bar",data:{labels:["Sales","Purchase"],datasets:[{label:"Overview",data:[_.sales||0,E.purchase||0],backgroundColor:["rgba(10, 34, 64, 1)","#5F6FFF"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}if(t.current){const A=t.current.getContext("2d");w=new ti(A,{type:"line",data:{labels:["Revenue","Profit","Cost"],datasets:[{label:"Sales Overview",data:[_.revenue||0,_.profit||0,_.cost||0],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(21, 112, 239, 1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}retu⟪ 12242 characters skipped ⟫.quantity,ke+=ce.orderValue):ce.status==="On the way"&&(se+=ce.quantity,ye+=ce.orderValue)}),g(j),x(B),v(z),_(J),b(ke),A(se),O(ye)})()},[n]),M.useEffect(()=>{(async()=>{try{const B=await(await fetch("https://ps-ims-backend.vercel.app/api/orders")).json();i(B)}catch(j){console.error("Error fetching orders:",j)}})()},[]);const I=F=>{u(F),l(!1)},W=[...n].sort((F,j)=>c==="ascending"?F.orderValue-j.orderValue:j.orderValue-F.orderValue),U=e*r,le=U-r,ne=W.slice(le,U),Ee=[];for(let F=1;F<=Math.ceil(n.length/r);F++)Ee.push(F);const Ce=F=>{F<1||F>Ee.length||t(F)};M.useEffect(()=>{(async()=>{try{const B=await(await fetch("https://ps-ims-backend.vercel.app/api/orders")).json();i(B);const z=await fetch("https://ps-ims-backend.vercel.app/api/orders/stats");if(!z.ok)throw new Error("Failed to fetch order statistics");const J=await z.json();g(J.totalOrders),x(J.totalReceived),v(J.totalRevenue),_(J.totalReturned),b(J.totalReturnCost),A(J.onTheWay),O(J.onTheWayCost)}catch(j){console.error("Error fetching orders:",j)}})()},[]);const ue=F=>{const{name:j,value:B,type:z,checked:J}=F.target;d(ke=>({...ke,[j]:z==="checkbox"?J:B}))},re=async F=>{F.preventDefault();const j={productName:f.productName,productId:f.productId,category:f.category,orderValue:parseFloat(f.orderValue),quantity:parseInt(f.quantity),unit:parseInt(f.unit),buyingPrice:parseFloat(f.buyingPrice),dateOfDelivery:f.deliveryDate,notifyOnDelivery:f.notifyOnDelivery,status:f.status};try{const B=await fetch("https://ps-ims-backend.vercel.app/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!B.ok){const J=await B.text();console.error("Error response:",J)}const z=await B.json();console.log("Order saved:",z),i(J=>[...J,z]),s(!1),d({productName:"",productId:"",category:"",orderValue:"",quantity:"",unit:"",buyingPrice:"",deliveryDate:"",notifyOnDelivery:!1,status:"Confirmed"})}catch(B){console.error("Error saving order:",B)}},me=F=>{const j=[],B=Object.keys(F[0]);j.push(B.join(","));for(const ye of F){const ce=B.map(Be=>JSON.stringify(ye[Be]));j.push(ce.join(","))}const z=j.join(`
  727: `),J=new Blob([z],{type:"text/csv"}),ke=window.URL.createObjectURL(J),se=document.createElement("a");se.setAttribute("hidden",""),se.setAttribute("href",ke),se.setAttribute("download","orders.csv"),document.body.appendChild(se),se.click(),document.body.removeChild(se)},Oe=async()=>{try{const j=await(await fetch("https://ps-ims-backend.vercel.app/api/orders")).json();me(j)}catch(F){console.error("Error downloading orders:",F)}};return h.jsx(h.Fragment,{children:h.jsxs("div",{children:[h.jsx("div",{className:" bg-gray-100 ml-[210px] xl:ml-[328px] p-1 pt-5 mt-16",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md ",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Overall Orders"}),h.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"p-4 bg-blue-100 rounded-lg text-center",children:[h.jsx("h3",{className:"text-blue-600 font-bold p-1",children:"Total Orders"}),h.jsx("p",{className:"text-2xl font-bold p-1",children:p}),h.jsx("p",{className:"text-gray-500 p-1",children:"Orders"})]}),h.jsxs("div",{className:"p-4 bg-orange-100 rounded-lg text-center",children:[h.jsx("h3",{className:"text-yellow-600 font-bold p-1",children:"Total Received"}),h.jsxs("div",{className:"flex justify-around p-1",children:[h.jsx("p",{className:"text-2xl⟪ 5041 characters skipped ⟫nst[d,p]=M.useState({labels:[],costPrices:[],buyingPrices:[]}),[g,m]=M.useState({totalProfit:0,revenue:0,sales:0,netPurchaseValue:0});M.useEffect(()=>{const _=async()=>{try{const A=await(await fetch("https://ps-ims-backend.vercel.app/api/inventory")).json();n(A),y(A)}catch(S){console.error("Error fetching products:",S)}},E=async()=>{try{const A=await(await fetch("https://ps-ims-backend.vercel.app/api/supplier/getAll")).json();a(A)}catch(S){console.error("Error fetching suppliers:",S)}},b=async()=>{try{const A=await(await fetch("https://ps-ims-backend.vercel.app/api/sales")).json();x(A)}catch(S){console.error("Error fetching sales data:",S)}};_(),E(),b()},[]);const x=_=>{let E=0,b=0,S=_.length,A=0;console.log("Sales Data:",_),_.forEach(k=>{const O=parseFloat(k.totalAmount)||0;if(b+=O,Array.isArray(k.cart)){const I=k.cart.reduce((W,U)=>{const le=parseFloat(U.price)||0,ne=parseFloat(U.quantity)||0;return W+le*ne},0);A+=I}else console.warn("Invalid cart data:",k.cart)}),E=b-A,console.log("Calculated Values:",{totalProfit:E,revenue:b,salesCount:S,netPurchaseValue:A}),m({totalProfit:E,revenue:b,sales:S,netPurchaseValue:A})},y=_=>{const E={};_.forEach(k=>{const I=new Date(k.createdAt).toLocaleString("default",{month:"short"});E[I]||(E[I]={totalCostPrice:0,totalBuyingPrice:0}),E[I].totalCostPrice+=k.costPrice||0,E[I].totalBuyingPrice+=k.buyingPrice||0});const b=Object.keys(E),S=b.map(k=>E[k].totalCostPrice),A=b.map(k=>E[k].totalBuyingPrice);p({labels:b,costPrices:S,buyingPrices:A})};M.useEffect(()=>{if(r.length>0&&i.length>0){co⟪ 3546 characters skipped ⟫[c,u]=M.useState(!0),[f,d]=M.useState(""),[p,g]=M.useState(!1),[m,x]=M.useState({storeName:"",location:"",phone:"",email:"",operatingHours:""});M.useEffect(()=>{e&&(async()=>{try{const S=await fetch(`https://ps-ims-backend.vercel.app/api/manage-store/${e}`);if(!S.ok)throw new Error("Failed to fetch store + inventory data");const A=await S.json();if(!A.store)return d("Store not found.");r(A.store),i(A.inventorySummary),s(A.inventoryOverview),x({storeName:A.store.storeName,location:A.store.location,phone:A.store.phone,email:A.store.email,operatingHours:A.store.operatingHours})}catch(S){d(S.message)}finally{u(!1)}})()},[e]);const y=()=>g(!0),v=()=>{g(!1),t&&x({storeName:t.storeName,location:t.location,phone:t.phone,email:t.email,operatingHours:t.operatingHours})},w=b=>{x(S=>({...S,[b.target.name]:b.target.value}))},_=async b=>{b.preventDefault();try{const S=await fetch(`https://ps-ims-backend.vercel.app/api/stores/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!S.ok)throw new Error("Failed to update store");const A=await S.json();r(A),g(!1),alert("Store updated successfully")}catch(S){alert(S.message)}},E=a.filter(b=>b.name.toLowerCase().includes(o.toLowerCase()));return c?h.jsx("div",{className:"ml-[210px] mt-20",children:"Loading store details..."}):f?h.jsxs("div",{className:"ml-[210px] mt-20 text-red-500",children:["Error: ",f]}):t?h.jsxs("div",{className:"ml-[210px] xl:ml-[328px] p-4 bg-gray-50 mt-16",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Store: ",t.storeName]}),!p&&h.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:y,children:"Edit Store"})]}),p?h.jsxs("form",{onSubmit:_,children:[h.jsxs("div",{className:"mb-⟪ 4004 characters skipped ⟫ate(""),[O,I]=M.useState(""),[W,U]=M.useState([]),[le,ne]=M.useState([]),[Ee,Ce]=M.useState(!1),ue=["pcs","box","kg","ltr"];M.useEffect(()=>{re(),me()},[]);const re=async()=>{try{const j=await fetch("https://ps-ims-backend.vercel.app/api/stores");if(!j.ok)throw new Error("Failed to fetch stores");const B=await j.json();U(B)}catch(j){console.error(j)}},me=async()=>{try{const j=await fetch("https://ps-ims-backend.vercel.app/api/supplier/getAll");if(!j.ok)throw new Error("Failed to fetch suppliers");const B=await j.json();ne(B)}catch(j){console.error(j)}},Oe=j=>{const B=j.target.files[0];B&&B.size>250*1024?(alert("File size exceeds 250KB"),E(null)):E(B)},F=j=>{j.preventDefault(),Ce(!0);const B=new FormData;B.append("name",r),B.append("productId",i),B.append("category",s),B.append("costPrice",parseFloat(l)),B.append("buyingPrice",parseFloat(u)),B.append("quantity",parseInt(d)),B.append("unit",g),B.append("expiryDate",x),B.append("thresholdValue",parseInt(v)),_&&B.append("productImg",_),B.append("availability",b),B.append("store",A),B.append("supplier",O),e(B),Ce(!1),t()};return h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[h.jsx("h3",{className:"text-lg font-bold mb-4",children:"Add Product"}),h.jsxs("form",{onSubmit:F,children:[h.jsxs("div",{classNa⟪ 4710 characters skipped ⟫scending"),[x,y]=M.useState("buyingPrice"),[v,w]=M.useState(1),_=8,[E,b]=M.useState(""),[S,A]=M.useState(""),[k,O]=M.useState("");M.useEffect(()=>{I()},[]);const I=async()=>{try{const se=await fetch("https://ps-ims-backend.vercel.app/api/inventory");if(!se.ok)throw new Error("Failed to fetch products");const ye=await se.json();t(ye),W(ye)}catch(se){console.error("Error fetching products:",se)}},W=se=>{n(se.length);const ye=se.reduce((ce,Be)=>ce+Be.quantity*Be.buyingPrice,0);a(ye),o(se.filter(ce=>ce.quantity>0&&ce.quantity<=ce.thresholdValue).length),c(new Set(se.map(ce=>ce.category)))},U=async se=>{try{const ye=localStorage.getItem("token"),ce=await fetch("https://ps-ims-backend.vercel.app/api/inventory",{method:"POST",headers:{Authorization:`Bearer ${ye}`},body:se});if(!ce.ok)throw new Error("Failed to add product");const Be=await ce.json(),$e=[...e,Be];t($e),W($e),f(!1)}catch(ye){console.error("Error adding product:",ye)}},le=(se,ye)=>se===0?"text-red-600":se<=ye?"text-yellow-400":"text-blue-500",ne=(se,ye)=>se===0?"Out of Stock":se<=ye?"Low Stock":"In Stock",Ee=se=>{if(se.length===0){alert("No data available for download.");return}const ye=[],ce=Object.keys(se[0]);ye.push(ce.join(","));for(const Ot of se){const it=ce.map(De=>JSON.stringify(Ot[De]||""));ye.push(it.join(","))}const Be=ye.join(`
  728: `),$e=new Blob([Be],{type:"text/csv"}),nt=window.URL.createObjectURL($e),Ue=document.createElement("a");Ue.setAttribute("hidden",""),Ue.setAttribute("href",nt),Ue.setAttribute("download","inventory.csv"),document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue)},Ce=async()=>{try{const se=await fetch("https://ps-ims-backend.vercel.app/api/inventory");if(!se.ok)throw new Error("Failed to fetch inventory data");const ye=await se.json();Ee(ye)}catch(se){console.error("Error downloading inventory data:",se)}},ue=se=>{m(se),p(!1)},re=()=>{let se=[...e];if(E){const ye=E.toLowerCase();se=se.filter(ce=>ce.name.toLowerCase().includes(ye)||ce.productId.toLowerCase().includes(ye))}if(S&&k){const ye=new Date(S),ce=new Date(k);se=se.filter(Be=>{const $e=new Date(Be.updatedAt);return $e>=ye&&$e<=ce})}return se},me=se=>[...se].sort((ye,ce)=>g==="ascending"?ye[x]-ce[x]:ce[x]-ye[x]),Oe=re(),F=me(Oe),j=v*_,B=j-_,z=F.slice(B,j),J=Math.ceil(F.length/_),ke=se=>{se<1||se>J||w(se)};return h.jsxs("div",{className:"flex flex-col h-screen ml-[210px] xl:ml-[328px] p-1 bg-gray-50",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-20",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overall Inventory"}),h.jsxs("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-4",children:[h.j⟪ 3917 characters skipped ⟫f(!1)})]})},wW=()=>{const{id:e}=B3(),[t,r]=M.useState(null),[n,i]=M.useState(!0),[a,s]=M.useState(""),[o,l]=M.useState(!1),[c,u]=M.useState({});if(M.useEffect(()=>{(async()=>{try{const m=await fetch(`https://ps-ims-backend.vercel.app/api/inventory/${e}`);if(!m.ok)throw new Error("Failed to fetch product");const x=await m.json();r(x),u(x)}catch(m){s(m.message)}finally{i(!1)}})()},[e]),n)return h.jsx("p",{className:"ml-[210px] mt-8",children:"Loading product details..."});if(a)return h.jsx("p",{className:"ml-[210px] mt-8 text-red-500",children:a});if(!t)return h.jsx("p",{className:"ml-[210px] mt-8",children:"Product not found."});const f=g=>{u({...c,[g.target.name]:g.target.value})},d=async()=>{try{if(!(await fetch(`https://ps-ims-backend.vercel.app/api/inventory/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok)throw new Error("Failed to update product");r(c),l(!1),alert("Product updated successfully!")}catch(g){s(g.message)}},p=()=>{const m=[["Field","Value"],["Product ID",t.productId],["Category",t.category],["Buying Price",t.buyingPrice],["Quantity",`${t.quantity} ${t.unit}`],["Expiry Date",t.expiryDate?new Date(t.expiryDate).toLocaleDateString():"N/A"],["Threshold Value",t.thresholdValue]].map(w=>w.join(",")).join(`
  729: ⟪ 3977 characters skipped ⟫me",c.ProductName),E.append("category",c.category),E.append("BuyingPrice",c.BuyingPrice),E.append("Type",c.Type),E.append("onTheWay",c.onTheWay),i&&E.append("profileImage",i);try{const b=await fetch("https://ps-ims-backend.vercel.app/api/supplier/create",{method:"POST",body:E});if(!b.ok)throw new Error("Failed to add supplier");const S=await b.json();n(A=>[...A,S]),t(!1),u({supplierName:"",email:"",contact:"",ProductName:"",category:"",BuyingPrice:"",Type:"",onTheWay:""}),a(null)}catch(b){console.error("Error adding supplier:",b),alert("Failed to add supplier. Please try again.")}},m=()=>{if(r.length===0){alert("No supplier data available for download.");return}const E=[["Supplier Name","Email","Contact","Product Name","Category","Buying Price","Type","On the Way","Profile Image"].join(",")];r.forEach(O=>{const I=[O.supplierName,O.email,O.contact,O.ProductName,O.category,O.BuyingPrice,O.Type,O.onTheWay??0,O.profileImgUrl||"No Image"].map(W=>`"${W}"`);E.push(I.join(","))});const b=E.join(`
  730: `),S=new Blob([b],{type:"text/csv"}),A=URL.createObjectURL(S),k=document.createElement("a");k.href=A,k.download="Suppliers.csv",document.body.appendChild(k),k.click(),document.body.removeChild(k)};M.useEffect(()=>{(async()=>{try{const E=await fetch("https://ps-ims-backend.vercel.app/api/supplier/getAll");if(!E.ok)throw new Error("Failed to fetch suppliers");const b=await E.json();n(b)}catch(E){console.error(E),alert(E.message)}})()},[]);const x=s*l,y=x-l,v=r.slice(y,x),w=Math.ceil(r.length/l);return h.jsx("div",{className:"flex flex-col h-screen ml-[210px] xl:ml-[328px] p-1 bg-gray-50",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-20 overflow-x-scroll",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Suppliers"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:f,children:"Add Supplier"}),h.jsx("button",{className:"bg-white text-gray-600 border border-gray-300 px-4 py-2 rounded-lg",onClick:m,children:"Download"})]})]}),h.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[h.jsx("thead",{children:h.jsx("
  731   * Number-To-Words util

  736   * @license MIT
  737: ⟪ 2464 characters skipped ⟫"Seller Address",m="Supplier Name",x="Supplier Address",[y,v]=M.useState(""),[w,_]=M.useState(""),[E,b]=M.useState(""),[S,A]=M.useState(18);M.useEffect(()=>{(async()=>{try{const Oe=await(await fetch("https://ps-ims-backend.vercel.app/api/inventory")).json();t(Oe),c(Oe)}catch(me){console.error("Error fetching inventory:",me)}})()},[]);const k=re=>{const me=re.target.value;o(me);const Oe=e.filter(F=>F.name.toLowerCase().includes(me.toLowerCase()));c(Oe),f(!!me)},O=re=>{I(re),o(""),f(!1)},I=re=>{n(me=>me.find(F=>F._id===re._id)?me.map(F=>F._id===re._id?{...F,quantity:F.quantity+1}:F):[...me,{...re,quantity:1}])},W=(re,me)=>{n(Oe=>Oe.map(F=>F._id===re?{...F,quantity:Math.max(1,F.quantity+me)}:F).filter(F=>F.quantity>0))},U=re=>{n(me=>me.filter(Oe=>Oe._id!==re))},le=()=>r.reduce((re,me)=>re+me.buyingPrice*me.quantity,0).toFixed(2),ne=()=>parseFloat(le())*(S/100),Ee=()=>{const re=parseFloat(le()),me=ne();return(re+me).toFixed(2)},Ce=re=>{a(re)},ue=async()=>{const re=Ee(),me={cart:r,sellerName:d,sellerPhone:p,sellerAddress:g,supplierName:m,supplierAddress:x,customerName:y,customerPhone:w,customerAddress:E,totalAmount:re,paymentMethod:i},Oe=window.open("","_blank");try{const F=await fetch("https://ps-ims-backend.vercel.app/api/invoices/generate-invoice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!F.ok)throw new Error("Failed to generate invoice");const j=await F.blob(),B=window.URL.createObjectURL(j);Oe?Oe.location.href=B:alert("Popup window was blocked. Please allow popups for this site."),window.URL.revokeObjectURL(B)}catch(F){console.error("Error generating invoice:",F),alert("Failed to generate invoice")}};return h.jsx("div",{className:"bg-gray-100 ml-[210px] xl:ml-[328px] p-1 pt-5 mt-16",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Billing"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Seller Details"}),h.jsx("p",{className:"text-gray-600",children:d}),h.jsxs("p",{className:"text⟪ 3685 characters skipped ⟫})=>{const[r,n]=M.useState({storeName:"",location:"",phone:"",email:"",operatingHours:""}),i=s=>{n(o=>({...o,[s.target.name]:s.target.value}))},a=async s=>{s.preventDefault();try{const o=await fetch("https://ps-ims-backend.vercel.app/api/stores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok)throw new Error("Failed to create store");const l=await o.json();t(l)}catch(o){alert(o.message)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white p-6 rounded shadow-md w-96",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add New Store"}),h.jsxs("form",{onSubmit:a,children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{className:"block text-gray-700",children:"Store Name"}),h.jsx("input",{className:"w-full p-2 border rounded",name:"storeName",value:r.storeName,onChange:i,required:!0})]}),h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{className:"block text-gray-700",children:"Location"}),h.jsx("input",{className:"w-full p-2 border rounded",name:"location",value:r.location,onChange:i,required:!0})]}),h.jsxs("div",{classNa⟪ 924 characters skipped ⟫submit",children:"Add Store"})]})]})]})})},AW=()=>{const[e,t]=M.useState([]),[r,n]=M.useState(!0),[i,a]=M.useState(""),[s,o]=M.useState(!1),l=to();M.useEffect(()=>{(async()=>{try{const d=await fetch("https://ps-ims-backend.vercel.app/api/stores");if(!d.ok)throw new Error("Failed to fetch stores");const p=await d.json();t(p)}catch(d){a(d.message)}finally{n(!1)}})()},[]);const c=()=>{o(!0)},u=f=>{t(d=>[...d,f]),o(!1)};return r?h.jsx("div",{className:"ml-[210px] mt-20",children:"Loading stores..."}):i?h.jsxs("div",{className:"ml-[210px] mt-20 text-red-500",children:["Error: ",i]}):h.jsxs("div",{className:"ml-[210px] xl:ml-[328px] p-4 bg-gray-50 mt-16 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"All Branches"}),h.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Add Store"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(f=>h.jsxs("div",{className:"bg-white shadow p-4 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-semibold mb-1",children:f.storeName}),h.jsxs("p",{className:"text-sm text-gray-60
  738  `)+`\r

  831  `;var r=ny(e,t);return r}function aJ(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Nt(e["!ref"]),a="",s=[],o,l=[],c=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=Or(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=_r(u),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function $k(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ur(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var f=Nt(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+i)}else s==-1&&(s=0,u.e.r=t.length-1+i);var d=n.header||[],p=0;t.forEach(function(m,x){Sr(m).forEach(function(y){(p=d.indexOf(y))==-1&&(d[p=d.length]=y);var v=m[y],w="z",_="",E=gt({c:o+p,r:s+x+i});c=bu(a,E),v&&typeof v=="object"&&!(v instanceof Date)?a[E]=v:(typeof v=="number"?w="n":typeof v=="boolean"?w="b":typeof v=="string"?w="s":v instanceof Date?(w="d",n.cellDates||(w="n",v=ln(v)),_=n.dateNF||Vt[14]):v===null&&n.nullError&&(w="e",v=0),c?(c.t=w,c.v=v,delete c.w,delete c.R,_&&(c.z=_)):a[E]=c={t:w,v},_&&(c.z=_))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var g=_r(s);if(i)for(p=0;p<d.length;++p)a[Or(p+o)+g]={t:"s",v:d[p]};return a["!ref"]=er(u),a}function sJ(e,t){return $k(null,e,t)}function bu(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ur(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?bu(e,gt(t)):bu(e,gt({r:t,c:r||0}))}function oJ(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function lJ(){return{SheetNames:[],Sheets:{}}}function cJ(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(Pk(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function uJ(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=oJ(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function fJ(e,t){return e.z=t,e}function Uk(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function dJ(e,t,r){return Uk(e,"#"+t,r)}function hJ(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function pJ(e,t,r,n){for(var i=typeof t!="string"?t:Nt(t),a=typeof t=="string"?t:er(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=bu(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return e}var zn={encode_col:Or,encode_row:_r,encode_cell:gt,encode_range:er,decode_col:G2,decode_row:V2,split_cell:kV,decode_cell:ur,decode_range:kn,format_cell:oa,sheet_add_aoa:H6,sheet_add_json:$k,sheet_add_dom:Mk,aoa_to_sheet:Rl,json_to_sheet:sJ,table_to_sheet:Lk,table_to_book:Iq,sheet_to_csv:ny,sheet_to_txt:jk,sheet_to_json:Ih,sheet_to_html:Rk,sheet_to_formulae:aJ,sheet_to_row_object_array:Ih,sheet_get_cell:bu,book_new:lJ,book_append_sheet:cJ,book_set_sheet_visibility:uJ,cell_set_number_format:fJ,cell_set_hyperlink:Uk,cell_set_internal_link:dJ,cell_add_comment:hJ,sheet_set_array_formula:pJ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Hk(e,t,r,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,c=o*l,u=/\r\n|\r|\n/g,f="",d=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,d=f.length||1),r+=o*(2-a),n.valign==="middle"?r-=d/2*c:n.valign==="bottom"&&(r-=d*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&d>=1){for(var g=0;g<f.length;g++)i.text(f[g],t-i.getStringUnitWidth(f[g])*p,r),r+=c;return i}t-=i.getStringUnitWidth(e)*p}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var s4={},el=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:s4=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=e.unifyColor(t.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return s4||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Ix=function(e,t){return Ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ix(e,t)};function zk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ix(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wk=function(e){zk(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function mJ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function gJ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Bh(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function Vk(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var s=Gk(i,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Gk(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function B0(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Kk(e,t){var r=B0(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function xJ(e,t,r,n,i){var a={},s=1.3333333333333333,o=rm(t,function(w){return i.getComputedStyle(w).backgroundColor});o!=null&&(a.fillColor=o);var l=rm(t,function(w){return i.getComputedStyle(w).color});l!=null&&(a.textColor=l);var c=yJ(n,r);c&&(a.cellPadding=c);var u="borderTopColor",f=s*r,d=n.borderTopWidth;if(n.borderBottomWidth===d&&n.borderRightWidth===d&&n.borderLeftWidth===d){var p=(parseFloat(d)||0)/f;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var g=rm(t,function(w){return i.getComputedStyle(w)[u]});g!=null&&(a.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(a.fontSize=x/s);var y=vJ(n);y&&(a.fontStyle=y);var v=(n.fontFamily||"").toLowerCase();return e.indexOf(v)!==-1&&(a.font=v),a}function vJ(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function rm(e,t){var r=Yk(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Yk(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Yk(e.parentElement,t):r}function yJ(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(o){return parseInt(o||"0")/n}),s=B0(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function Zk(e,t,r,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],d=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:d};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),x=wJ(l,c,r,g,n,i);x&&(m==="thead"?u.push(x):m==="tfoot"?d.push(x):f.push(x))}return{head:u,body:f,foot:d}}function wJ(e,t,r,n,i,a){for(var s=new Wk(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;a&&(u=xJ(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:_J(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(i||f.display!=="none"))return s}function _J(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
  832: ⟪ 21698 characters skipped ⟫sole.error("Could not apply autoTable plugin",e)}function tQ(){const[e,t]=M.useState([]),[r,n]=M.useState({key:null,direction:"asc"}),[i,a]=M.useState([]),[s,o]=M.useState("");M.useEffect(()=>{fetch("https://ps-ims-backend.vercel.app/api/sales").then(d=>d.json()).then(d=>{t(d),a(d)}).catch(d=>console.error("Error fetching sales:",d))},[]);const l=[...i].sort((d,p)=>{var x,y,v,w;if(!r.key)return 0;let g=d[r.key],m=p[r.key];return r.key==="createdAt"?(g=new Date(g),m=new Date(m)):r.key==="totalAmount"?(g=parseFloat(g),m=parseFloat(m)):r.key==="seller"?(g=((x=d.seller)==null?void 0:x.name)||"",m=((y=p.seller)==null?void 0:y.name)||""):r.key==="customer"&&(g=((v=d.customer)==null?void 0:v.name)||"",m=((w=p.customer)==null?void 0:w.name)||""),g<m?r.direction==="asc"?-1:1:g>m?r.direction==="asc"?1:-1:0}),c=d=>{let p="asc";r.key===d&&r.direction==="asc"&&(p="desc"),n({key:d,direction:p})},u=d=>{const p=d.target.value;o(p),a(p?e.filter(g=>g.createdAt.startsWith(p)):e)},f=()=>{const d=zn.json_to_sheet(l.map(g=>{var m,x;return{Seller:(m=g.seller)==null?void 0:m.name,Customer:(x=g.customer)==null?void 0:x.name,Products:g.cart.map(y=>y.name).join(", "),Quantity:g.cart.map(y=>y.quantity).join(", "),Price:g⟪ 5331 characters skipped ⟫()=>{const[e,t]=M.useState([]),[r,n]=M.useState(1),[i]=M.useState(12),[a,s]=M.useState({startDate:"",endDate:"",customer:""}),[o,l]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const w=await fetch("https://ps-ims-backend.vercel.app/api/sales");if(!w.ok)throw new Error("Failed to fetch sales data");const _=await w.json();t(_)}catch(w){console.error("Error fetching sales data:",w)}})()},[]);const c=r*i,u=c-i,d=(v=>{let w=v;return a.startDate&&a.endDate&&(w=w.filter(_=>{const E=new Date(_.createdAt),b=new Date(a.startDate),S=new Date(a.endDate);return E>=b&&E<=S})),a.customer&&(w=w.filter(_=>{var E,b;return(b=(E=_.customer)==null?void 0:E.name)==null?void 0:b.toLowerCase().includes(a.customer.toLowerCase())})),w})(e),p=d.slice(u,c),g=Math.ceil(d.length/i),m=v=>{v<1||v>g||n(v)},x=()=>{const v=zn.json_to_sheet(d.map(b=>{var S,A;return{Seller:((S=b.seller)==null?void 0:S.name)||"N/A",Customer:((A=b.customer)==null?void 0:A.name)||"N/A",Products:b.cart.map(k=>k.name).join(", "),Quantity:b.cart.map(k=>k.quantity).join(", "),Price:b.cart.map(k=>k.price).join(", "),TotalAmount:b.totalAmount,Date:new Date(b.createdAt).toLocaleDateString()}})),w=zn.book_new();zn.book_append_sheet(w,v,"Sales Report");con⟪ 4311 characters skipped ⟫State([]),[r,n]=M.useState(1),[i]=M.useState(11),[a,s]=M.useState({startDate:"",endDate:"",category:""}),[o,l]=M.useState(!1),[c,u]=M.useState([]);M.useEffect(()=>{(async()=>{try{const S=await fetch("https://ps-ims-backend.vercel.app/api/inventory");if(!S.ok)throw new Error("Failed to fetch sales data");const A=await S.json();t(A);const k=[...new Set(A.map(O=>O.category))];u(k)}catch(S){console.error("Error fetching sales data:",S)}})()},[]);const f=r*i,d=f-i,g=(b=>{let S=b;return a.startDate&&a.endDate&&(S=S.filter(A=>{const k=new Date(A.expiryDate),O=new Date(a.startDate),I=new Date(a.endDate);return k>=O&&k<=I})),a.category&&(S=S.filter(A=>A.category===a.category)),S})(e),m=g.slice(d,f),x=Math.ceil(g.length/i),y=b=>{b<1||b>x||n(b)},v=(b,S)=>b<=S?"text-red-500":"text-green-500",w=(b,S)=>b<=S?"Low Stock":"In Stock",_=()=>{const b=zn.json_to_sheet(g),S=zn.book_new();zn.book_append_sheet(S,b,"Sales Report");const A=rf(S,{bookType:"xlsx",type:"array"}),k=new Blob([A],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});iy.saveAs(k,"sales_report.xlsx")},E=b=>{const{name:S,value:A}=b.target;s({...a,[S]:A})};return h.jsx("div",{className:"p-6 ml-[204px] xl:ml-[320px] mt-16",c⟪ 4099 characters skipped ⟫=M.useState(1),[i]=M.useState(12),[a,s]=M.useState({location:"",operatingHours:""}),[o,l]=M.useState(!1),[c,u]=M.useState([]),[f,d]=M.useState([]);M.useEffect(()=>{(async()=>{try{const S=await fetch("https://ps-ims-backend.vercel.app/api/stores");if(!S.ok)throw new Error("Failed to fetch sales data");const A=await S.json();t(A);const k=[...new Set(A.map(I=>I.location))],O=[...new Set(A.map(I=>I.operatingHours))];u(k),d(O)}catch(S){console.error("Error fetching sales data:",S)}})()},[]);const p=r*i,g=p-i,x=(b=>{let S=b;return a.location&&(S=S.filter(A=>A.location===a.location)),a.operatingHours&&(S=S.filter(A=>A.operatingHours===a.operatingHours)),S})(e),y=x.slice(g,p),v=Math.ceil(x.length/i),w=b=>{b<1||b>v||n(b)},_=()=>{const b=zn.json_to_sheet(x),S=zn.book_new();zn.book_append_sheet(S,b,"Stores Report");const A=rf(S,{bookType:"xlsx",type:"array"}),k=new Blob([A],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});iy.saveAs(k,"stores_report.xlsx")},E=b=>{const{name:S,value:A}=b.target;s({...a,[S]:A})};return h.jsx("div",{className:"p-6 ml-[204px] xl:ml-[320px] mt-16",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md overflow-x-auto",children:[h.jsxs("d

src\apiService.js:
  3  const apiClient = axios.create({
  4:     baseURL: 'https://ps-ims-backend.vercel.app/api', // Adjust the base URL as needed
  5      headers: {

src\components\AddProductForm.jsx:
  41        // e.g. GET /api/stores to fetch all
  42:       const res = await fetch('https://ps-ims-backend.vercel.app/api/stores');
  43        if (!res.ok) throw new Error('Failed to fetch stores');

  53        // e.g. GET /api/supplier/getAll or /api/suppliers
  54:       const res = await fetch('https://ps-ims-backend.vercel.app/api/supplier/getAll');
  55        if (!res.ok) throw new Error('Failed to fetch suppliers');

src\components\AddStoreForm.jsx:
  19          try {
  20:             const res = await fetch('https://ps-ims-backend.vercel.app/api/stores', {
  21                  method: 'POST',

src\components\Billing.jsx:
   31              try {
   32:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/inventory');
   33                  const data = await response.json();

  131          try {
  132:             const response = await fetch('https://ps-ims-backend.vercel.app/api/invoices/generate-invoice', {
  133                  method: 'POST',

src\components\DashBoard.jsx:
  30                  // 2) Make fetch call with Bearer token
  31:                 const res = await fetch('https://ps-ims-backend.vercel.app/api/dashboard', {
  32                      headers: {

src\components\InventoryDashboard.jsx:
   33      try {
   34:       const response = await fetch('https://ps-ims-backend.vercel.app/api/inventory');
   35        if (!response.ok) throw new Error('Failed to fetch products');

   60        const token = localStorage.getItem('token');
   61:       const response = await fetch('https://ps-ims-backend.vercel.app/api/inventory', {
   62          method: 'POST',

  121      try {
  122:       const response = await fetch('https://ps-ims-backend.vercel.app/api/inventory');
  123        if (!response.ok) {

src\components\InventoryReport.jsx:
  20              try {
  21:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/inventory');
  22                  if (!response.ok) {

src\components\ManageStock.jsx:
   54          const token = localStorage.getItem('token');
   55:         const res = await fetch('https://ps-ims-backend.vercel.app/api/users/getAlluser', {
   56            headers: {

   79          const token = localStorage.getItem('token');
   80:         const res = await fetch('https://ps-ims-backend.vercel.app/api/stock', {
   81            headers: {

  146        const res = await fetch(
  147:         `https://ps-ims-backend.vercel.app/api/stock/${stockBeingEdited._id}`,
  148          {

src\components\ManageStore.jsx:
  27          // Using the new custom endpoint: /api/manage-store/:id
  28:         const res = await fetch(`https://ps-ims-backend.vercel.app/api/manage-store/${id}`);
  29          if (!res.ok) {

  85        // We can still do a PUT /api/stores/:id for store updates
  86:       const res = await fetch(`https://ps-ims-backend.vercel.app/api/stores/${id}`, {
  87          method: 'PUT',

src\components\NavAndSide.jsx:
  167          try {
  168:             const res = await fetch('https://ps-ims-backend.vercel.app/api/users/account', {
  169                  method: 'GET',

  213  
  214:             const res = await fetch('https://ps-ims-backend.vercel.app/api/users/updateUser', {
  215                  method: 'PUT',

  263          try {
  264:             const response = await fetch('https://ps-ims-backend.vercel.app/api/orders?status=Out for Delivery');
  265              const data = await response.json();

  290              try {
  291:                 const res = await fetch(`https://ps-ims-backend.vercel.app/api/search?query=${encodeURIComponent(searchTerm)}`);
  292                  if (!res.ok) throw new Error('Search failed');

src\components\orders.jsx:
   72              try {
   73:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/orders');
   74                  const data = await response.json();

  113              try {
  114:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/orders');
  115                  const data = await response.json();

  118                  // Fetch order statistics
  119:                 const statsResponse = await fetch('https://ps-ims-backend.vercel.app/api/orders/stats');
  120                  if (!statsResponse.ok) {

  162          try {
  163:             const response = await fetch('https://ps-ims-backend.vercel.app/api/orders', {
  164                  method: 'POST',

  223          try {
  224:             const response = await fetch('https://ps-ims-backend.vercel.app/api/orders');
  225              const data = await response.json();

src\components\ProductDetails.jsx:
  15        try {
  16:         const res = await fetch(`https://ps-ims-backend.vercel.app/api/inventory/${id}`);
  17          if (!res.ok) {

  46      try {
  47:       const res = await fetch(`https://ps-ims-backend.vercel.app/api/inventory/${id}`, {
  48          method: 'PUT',

src\components\Reports.jsx:
  102              try {
  103:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/inventory');
  104                  const data = await response.json();

  113              try {
  114:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/supplier/getAll');
  115                  const data = await response.json();

  123              try {
  124:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/sales');
  125                  const data = await response.json();

src\components\Sales.jsx:
  11    useEffect(() => {
  12:     fetch("https://ps-ims-backend.vercel.app/api/sales")
  13        .then((response) => response.json())

src\components\SalesReport.jsx:
  19              try {
  20:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/sales');
  21                  if (!response.ok) {

src\components\StoresList.jsx:
  16        try {
  17:         const res = await fetch('https://ps-ims-backend.vercel.app/api/stores');
  18          if (!res.ok) {

src\components\StoresReport.jsx:
  20              try {
  21:                 const response = await fetch('https://ps-ims-backend.vercel.app/api/stores');
  22                  if (!response.ok) {

src\components\Suppliers.jsx:
   56          try {
   57:             const response = await fetch('https://ps-ims-backend.vercel.app/api/supplier/create', {
   58                  method: 'POST',

  131              try {
  132:                 const res = await fetch('https://ps-ims-backend.vercel.app/api/supplier/getAll');
  133                  if (!res.ok) throw new Error('Failed to fetch suppliers');

src\pages\Login.jsx:
  39          const response = await axios.post(
  40:           'https://ps-ims-backend.vercel.app/api/users/login',
  41            { email, password },

src\pages\Register.jsx:
  44                  const response = await axios.post(
  45:                     'https://ps-ims-backend.vercel.app/api/users/register',
  46                      { email, password, confirmPassword },
